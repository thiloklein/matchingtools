# This is an **example** API to demontstrate features of OpenAPI specification.
# It doesn't cover all OpenAPI features. For more full example check out: https://github.com/APIs-guru/petstore_extended

swagger: '2.0'
# You should specify common part of your endpoints in the following format:
#   <schemes>://<host><basepath>
schemes:
  - https # Remove if your API donsn't support HTTPS
host: api.matchingtools.org # Replace with your hostname. 
basePath: / # Replace with your basePath. Note: SHOULD begin with '/'.
info:
  # Describe your API here, you can use GFM (https://guides.github.com/features/mastering-markdown) here
  description: |
    The **matching tools** API implements matching algorithms using the OpenAPI specification.
    # Introduction
    This specification is describing the API in 
    [OpenAPI/Swagger format](https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md).
    
    # OpenAPI Specification
    The goal of The OpenAPI Specification is to define a standard, language-agnostic interface to REST APIs which
    allows both humans and computers to discover and understand the capabilities of the service without access to source
    code, documentation, or through network traffic inspection. When properly defined via OpenAPI, a consumer can 
    understand and interact with the remote service with a minimal amount of implementation logic. Similar to what
    interfaces have done for lower-level programming, OpenAPI removes the guesswork in calling the service.

  version: '1.0.0' # Your API version
  # It can be any string but it is better to use semantic versioning: http://semver.org/
  # Warning: OpenAPI require version to be string, but without quotation YAML can recognize it as number.

  title: Matching Tools API # Replace with your API title
  # Keep it simple. Don't add "API" or verison at the end of the string.

  #termsOfService: 'https://example.com/terms/' # [Optional] Replace with an URL to your ToS
  contact:
    email: thilo.klein@zew.de # [Optional] Replace with your contact email
    #url: 'https://klein.uk' # [Optional] Replace with link to your contact form
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
  x-logo:
    url: 'https://matchingtools.com/logo.png'
produces:
  # List of mime types your API endpoins can return.
  - application/json
  #- application/xml
  #- text/csv
consumes:
  # List of mime types your API endpoins consumes.
  - application/json
  #- application/xml
  #- text/csv

# A list of tags used by the specification with additional metadata.
# The order of the tags can be used to reflect on their order by the parsing tools.
tags:
  - name: HRI
    description: Algorithms for Hospital/Residents (a.k.a. College-Admissions) Problems with incomplete rank order lists
  - name: TTC
    description: Top-Trading-Cycles algorithms for housing markets and land allocation problems
  - name: SRI
    description: Algorithms for Stable Roomates problems with incomplete rank order lists

# Security scheme definitions that can be used across the specification.
securityDefinitions:
  basic_auth:  # security definition name (you can name it as you want)
    type: basic

# To apply Basic auth to the whole API:
security:
  - basic_auth: []

# Holds the relative paths to the individual endpoints. The path is appended to the
# basePath in order to construct the full URL. 
paths:
  '/ma':
    post:
      tags:
        - HRI
      summary: Gale-Shapley Algorithm for the Hospital/Residents (a.k.a. College-Admissions) Problems with incomplete rank order lists
      description: ...
      operationId: ma
      parameters:
        - name: message
          in: body
          description: 'Echo payload'
          required: true
          schema:
            type: string
            example: 'Hello world!'
      responses:
        '401':
          $ref: "#/responses/UnauthorizedError"
        '200':
          description: 'OK'
          examples:
            'application/json': {"rangliste_bewerber": {
                "Lea": ["Stadt 2"],
                "Mia": ["Privat",  "Stadt 2", "Stadt 1"],
                "Kai": ["Stadt 1", "Stadt 2", "Privat"]
              },
              "rangliste_kita": {
                "Stadt 1": ["Lea", "Kai", "Mia"],
                "Stadt 2": ["Lea", "Kai", "Mia"],
                "Privat":  ["Kai", "Mia", "Lea"]
              },
              "kapazitaet_kita": {
                "Stadt 1": 1,
                "Stadt 2": 1,
                "Privat":  1 
              }
            }
          schema:
            type: file
          # docuemnt headers for this repsonse
          #headers:
          #  X-Rate-Limit: # Header name
          #    type: integer # Header value type
          #    format: int32 # Header value format
          #    description: calls per hour allowed by the user
          #  X-Expires-After:
          #    type: string
          #    format: date-time
          #    description: date in UTC when token expires

responses:
  UnauthorizedError:
    description: Authentication failed
    headers:
      WWW_Authenticate:
        type: string

